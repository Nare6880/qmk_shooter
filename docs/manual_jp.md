# このゲームについて

QMKファームウェア上で動作するスペースインベーダーに似たシンプルなシューティングゲームです。

8x6ピクセルのマスの中にフレーム単位で異なるフォントを描画することにより簡易的なアニメーションを実現しており、滑らかにビームやキャラクターが動くのが特徴です。


# 動作環境について

## 必須

- 自作キーボード
    - QMKファームウェア対応のもの
- OLED(有機EL)ディスプレイ (128x32ピクセル かつ 縦方向 のみ対応)
    - **128 x 32** px のみ対応。他のサイズは **サポートしていません** 。
    - **縦方向** のみ対応。横方向は**サポートしていません**。
    - このプログラムは基本的に **SSD1306** 向けに作られています。
- [QMKファームウェア](https://github.com/qmk/qmk_firmware) バージョン0.14以上
    - このプログラムは、**QMKファームウェア0.14.15** で開発・テストしています。
    - ファームウェアのバージョンが0.13以前の場合はアップデートしてください。

## あると良いかも

- [Claw44](https://github.com/yfuku/claw44) (分離型キーボード)
    - 必ずしも要る訳ではないですが、Claw44の場合は導入が簡単です。


# インストール/ビルド

詳細は `qmk_shooter/docs` 内のドキュメントを参照してください。

1. Claw44ユーザー
- `qmk_firmware` ディレクトリにある `diff.patch` を適用するだけでOKです。
- 詳しくは [docs/guide_claw_jp.md](https://github.com/snagimmo/qmk_shooter/blob/main/docs/guide_claw_jp.md) をご覧ください。

2. 他のキーボードユーザー
- お手数ですが、いくつかのファイルを手動で修正する必要があります。
- 詳しくは [docs/guide_other_jp.md](https://github.com/snagimmo/qmk_shooter/blob/main/docs/guide_other_jp.md) をご覧ください。


# 遊び方

キーを押すことで、プレイヤーキャラクターを操作することができます。

- `KC_LEFT` (左矢印キー): プレイヤーを左に移動させます。
- `KC_RGHT` (右矢印キー): プレイヤーを右に移動させます。
- `KC_SPC` (スペースキー): ビームを発射します。
    - ビームの発射弾数はデフォルトで **同時に3発** までです。
- `GM_INV` (独自キー): ゲームの開始/終了

**注意:** `KC_` というのは、QMKファームウェアがユーザーによって押されたキーを認識するためのキーコード用の接頭辞です。

`GM_INV` という独自キーでゲームモードのON/OFFをトグルすることができます。ゲームモードがONの間はEnter(`KC_ENT`)キーとWindows(`KC_LGUI`)キーを押しても反応しないようになっています。

これとは別に自分用のキーバインディングなどを使いたい場合は、QMKファームウェアでお好きなキーコードを設定することもできます。

全ての敵を倒せばゲームクリアです。尚、いくつかのステージといくつかの敵が登場します。


# 謝辞

- `rndgen.c`
- `rndgen.h`

これらのファイルは Edward Rostenさんの [edrosten/8bit_rng](https://github.com/edrosten/8bit_rng)を参考にさせていただきました。
